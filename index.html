<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
<title>CYBERINT // OS V42</title>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Rajdhani:wght@600;800&display=swap" rel="stylesheet">

<style>
/* === 1. CORE THEME === */
:root {
  --bg: #000000;
  --panel: #0a0a0a;
  --primary: #00f3ff; /* CYAN */
  --accent: #ff9f0a;  /* GOLD */
  --success: #00ff41; /* GREEN */
  --alert: #ff003c;   /* RED */
  --dim: #1c2533;
  --font-code: 'JetBrains Mono', monospace;
  --font-ui: 'Rajdhani', sans-serif;
  --glow: 0 0 10px rgba(0, 243, 255, 0.2);
  --border-radius: 8px;
  
  /* MOBILE SAFE HEIGHT DEFAULT */
  --app-height: 100vh;
}

/* === 2. iOS THEME === */
body.theme-ios {
  --bg: #000000;
  --panel: rgba(20, 20, 25, 0.8);
  --primary: #0A84FF;
  --accent: #FFD60A;
  --alert: #FF453A;
  --dim: #333;
  --text: #FFFFFF;
  --glow: 0 0 15px rgba(10, 132, 255, 0.4);
  --border-radius: 16px;
  backdrop-filter: blur(30px);
}

/* === 3. GLOBAL LAYOUT (FIXED VIEWPORT) === */
* { box-sizing: border-box; outline: none; -webkit-tap-highlight-color: transparent; }

body {
  margin: 0;
  padding: 0;
  background: var(--bg);
  color: var(--primary);
  font-family: var(--font-ui);
  display: flex;
  flex-direction: column;
  overflow: hidden; /* Prevent body scroll */
  overscroll-behavior: none; /* iOS Scroll Fix */
  
  /* DYNAMIC HEIGHT STACK */
  height: 100vh;
  height: 100dvh;
  height: var(--app-height);
  
  transition: background 0.5s ease;
  background-image: 
    linear-gradient(rgba(0, 243, 255, 0.03) 1px, transparent 1px),
    linear-gradient(90deg, rgba(0, 243, 255, 0.03) 1px, transparent 1px);
  background-size: 30px 30px;
}

/* SCANLINES */
body::after {
  content: ""; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
  background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%);
  background-size: 100% 4px; pointer-events: none; z-index: 999;
  opacity: 0.2;
}

/* MATRIX BG */
canvas { position: fixed; top: 0; left: 0; z-index: 0; opacity: 0.1; pointer-events: none; }

/* === 4. HEADER === */
.header {
  padding: 15px 20px;
  padding-top: max(15px, env(safe-area-inset-top)); 
  border-bottom: 1px solid var(--dim); 
  background: rgba(0,0,0,0.9);
  display: flex; justify-content: space-between; align-items: center; 
  z-index: 50;
  flex-shrink: 0;
  box-shadow: 0 5px 20px rgba(0,0,0,0.5); backdrop-filter: blur(5px);
}
.brand { font-size: 22px; letter-spacing: 2px; text-shadow: var(--glow); font-weight: 800; }
.header-icons { display: flex; gap: 10px; }
.icon-btn { 
  background: transparent; border: 1px solid var(--primary); color: var(--primary); 
  padding: 6px 12px; border-radius: var(--border-radius); cursor: pointer; transition: 0.3s;
  font-family: var(--font-code); font-size: 10px;
}

/* === 5. MAIN INTERFACE (SCROLLABLE AREA) === */
.app-content { 
  flex: 1; 
  padding: 15px; 
  display: flex; 
  flex-direction: column; 
  gap: 15px; 
  overflow-y: auto; 
  overscroll-behavior-y: contain; /* Scroll chaining fix */
  -webkit-overflow-scrolling: touch; 
  z-index: 10; 
  position: relative;
}

/* COMMAND CENTER */
.command-box {
  background: var(--panel); border: 1px solid var(--primary); padding: 20px;
  border-radius: var(--border-radius); box-shadow: var(--glow);
  position: relative; overflow: hidden; flex-shrink: 0;
}

.cmd-label { font-family: var(--font-code); font-size: 10px; color: #666; margin-bottom: 5px; display: block; }

/* INPUT BOX */
input {
  width: 100%; 
  background: rgba(0, 0, 0, 0.7) !important;
  border: 1px solid var(--dim); 
  color: #fff !important;
  padding: 14px; font-family: var(--font-code); font-size: 16px; margin-bottom: 15px;
  transition: 0.3s; border-radius: 6px;
  caret-color: var(--primary);
}
input:focus { border-color: var(--primary); box-shadow: 0 0 15px var(--glow); outline: none; }

/* BROWSER AUTOFILL FIX */
input:-webkit-autofill,
input:-webkit-autofill:hover, 
input:-webkit-autofill:focus, 
input:-webkit-autofill:active {
    -webkit-box-shadow: 0 0 0 30px rgba(0, 0, 0, 0.7) inset !important;
    -webkit-text-fill-color: #fff !important;
    transition: background-color 5000s ease-in-out 0s;
}

.controls { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
.btn {
  background: rgba(0, 243, 255, 0.05); border: 1px solid var(--primary); color: var(--primary);
  padding: 14px; font-family: var(--font-ui); font-size: 14px; font-weight: bold; cursor: pointer;
  border-radius: var(--border-radius); transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
  position: relative; overflow: hidden;
}
.btn:active { transform: scale(0.98); }

/* --- BUTTON STATES --- */
.btn.scanning {
  background: transparent;
  color: var(--primary);
  border: 1px solid var(--primary);
  box-shadow: 0 0 20px rgba(0, 243, 255, 0.6), inset 0 0 10px rgba(0, 243, 255, 0.3);
  text-shadow: 0 0 5px var(--primary);
}

#btnDeep {
  border: 1px solid var(--accent);
  color: var(--accent);
  background: transparent;
  box-shadow: 0 0 10px rgba(255, 159, 10, 0.2);
}
#btnDeep.armed {
  background: transparent;
  color: var(--accent);
  border: 1px solid var(--accent);
  box-shadow: 0 0 25px rgba(255, 159, 10, 0.7), inset 0 0 15px rgba(255, 159, 10, 0.4);
  text-shadow: 0 0 10px var(--accent);
}

/* === 6. TERMINAL GRID === */
.terminal-grid {
  flex: 1; display: grid; grid-template-rows: 1.5fr 1fr; gap: 10px;
  min-height: 250px;
}

.terminal-box {
  background: #050505; border: 1px solid var(--dim); padding: 10px;
  font-family: var(--font-code); font-size: 11px; color: #ccc;
  overflow: hidden; border-radius: var(--border-radius);
  display: flex; flex-direction: column; position: relative;
  box-shadow: inset 0 0 20px rgba(0,0,0,0.8);
}

#term-main { flex: 2; min-height: 0; }
.split-row { flex: 1; display: grid; grid-template-columns: 1fr 1fr; gap: 10px; min-height: 0; }

.term-header { 
  border-bottom: 1px solid #333; margin-bottom: 5px; padding-bottom: 4px; 
  color: #555; font-size: 9px; display: flex; justify-content: space-between; font-weight: bold;
  flex-shrink: 0;
}
.term-content { 
  flex: 1; overflow-y: auto; display: flex; flex-direction: column; justify-content: flex-end; 
  scrollbar-width: thin; scrollbar-color: var(--dim) transparent;
}

/* LOG STYLING */
.log { margin-bottom: 2px; white-space: pre-wrap; word-break: break-all; }
.log.cmd { color: var(--primary); }
.log.warn { color: var(--alert); }
.log.sys { color: var(--accent); }
.log.data { color: #666; }
.log.success { color: var(--success); }

/* === 7. FOOTER === */
.footer {
  padding: 15px 20px; 
  padding-bottom: max(15px, env(safe-area-inset-bottom));
  border-top: 1px solid var(--dim); 
  background: #000;
  z-index: 50;
  flex-shrink: 0;
}
.big-btn {
  width: 100%; padding: 14px; background: rgba(0,0,0,0.3); 
  border: 1px solid var(--primary); color: var(--primary);
  font-family: var(--font-ui); font-size: 15px; letter-spacing: 2px;
  cursor: pointer; border-radius: var(--border-radius);
  transition: all 0.3s ease;
}
.big-btn:hover { background: var(--primary); color: #000; box-shadow: 0 0 15px var(--glow); }

/* === 8. REPORT UI === */
#report-ui {
  display: none; position: fixed; top: 0; left: 0; width: 100%; 
  /* iOS Height Fix */
  height: 100vh; height: 100dvh; height: var(--app-height);
  background: var(--bg); z-index: 200; flex-direction: column;
}
#report-ui.show { display: flex; animation: slideUp 0.3s ease-out; }

.rep-head {
  padding: 15px 20px; 
  padding-top: max(15px, env(safe-area-inset-top));
  border-bottom: 1px solid var(--primary); background: #000;
  display: flex; justify-content: space-between; align-items: center; flex-shrink: 0;
}
.rep-body { 
  flex: 1; overflow-y: auto; padding: 20px;
  padding-bottom: 80px; 
  overscroll-behavior-y: contain;
  background-image: linear-gradient(rgba(0,0,0,0.9), rgba(0,0,0,0.9));
}
.report-card { 
  border: 1px solid var(--dim); background: rgba(10,15,20,0.8); margin-bottom: 12px; 
  border-radius: var(--border-radius); overflow: hidden;
  transition: 0.3s;
}
.card-header {
  background: rgba(255,255,255,0.03); padding: 12px 15px; font-family: var(--font-code);
  display: flex; justify-content: space-between; align-items: center;
  cursor: pointer; font-size: 12px; color: #fff;
  border-bottom: 1px solid transparent; transition: 0.3s;
}
.arrow { transition: 0.3s ease; font-size: 10px; color: var(--dim); }
.report-card.open .arrow { transform: rotate(180deg); color: var(--primary); }
.report-card.open .card-header { border-bottom-color: var(--dim); color: var(--primary); }
.card-content { max-height: 0; opacity: 0; overflow: hidden; transition: all 0.4s ease; padding: 0 15px; }
.report-card.open .card-content { max-height: 1000px; opacity: 1; padding: 15px; }

.row { display: flex; padding: 4px 0; border-bottom: 1px solid rgba(255,255,255,0.05); font-size: 11px; }
.k { width: 100px; color: var(--dim); font-weight: bold; }
.v { flex: 1; color: #fff; word-break: break-all; }

/* === 9. AUTH SCREEN === */
#auth-overlay {
  position: fixed; top: 0; left: 0; width: 100%; 
  /* iOS Height Fix */
  height: 100vh; height: 100dvh; height: var(--app-height);
  background: #000; z-index: 999;
  display: flex; flex-direction: column; justify-content: center; align-items: center;
  padding: 20px;
}
.login-box { 
  width: 300px; border: 1px solid var(--primary); padding: 30px; text-align: center; 
  box-shadow: 0 0 30px rgba(0, 243, 255, 0.1); background: rgba(10,15,20,0.95);
  border-radius: 12px;
}

@keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }

</style>
</head>
<body>

<canvas id="matrix"></canvas>

<div id="auth-overlay">
  <div class="login-box">
    <div style="font-size:20px; font-weight:800; color:var(--primary); margin-bottom:20px;">SYSTEM LOCKED</div>
    <input type="text" id="secureKeyInput" placeholder="ENTER ACCESS KEY" 
           autocomplete="off" name="no_autofill_random_123"
           style="text-align:center; margin-bottom:10px;">
    <button class="btn" style="width:100%" onclick="authenticate()">DECRYPT</button>
  </div>
</div>

<div class="header">
  <div class="brand">CYBERINT // <span style="color:var(--accent)">OS</span></div>
  <div class="header-icons">
    <button class="icon-btn" onclick="resetKey()">KEY</button>
    <button class="icon-btn" onclick="document.body.classList.toggle('theme-ios')">THEME</button>
    <button class="icon-btn" onclick="location.reload()">RST</button>
  </div>
</div>

<div class="app-content">
  
  <div class="command-box">
    <span class="cmd-label">TARGET_IDENTIFIER</span>
    <input id="q" placeholder="PHONE / EMAIL / USERNAME..." 
           autocomplete="off" name="search_target_field_random_xyz">
    <div class="controls">
      <button id="btnScan" class="btn" onclick="startScan()">INITIATE SCAN</button>
      <button id="btnDeep" class="btn" onclick="toggleDeep()">DEEP SEARCH</button>
    </div>
  </div>

  <div class="terminal-grid">
    
    <div class="terminal-box" id="term-main">
      <div class="term-header"><span>u0_a231@localhost:~</span> <span>ZSH</span></div>
      <div class="term-content" id="log-main"></div>
    </div>

    <div class="split-row">
      <div class="terminal-box">
        <div class="term-header"><span style="color:var(--accent)">NET_MON</span> <span>TCP</span></div>
        <div class="term-content" id="log-net"></div>
      </div>
      <div class="terminal-box">
        <div class="term-header"><span style="color:var(--alert)">KERNEL</span> <span>DMESG</span></div>
        <div class="term-content" id="log-kernel"></div>
      </div>
    </div>
  </div>

</div>

<div class="footer">
  <button class="big-btn" onclick="openReport()">OPEN COMPILED DOSSIER</button>
</div>

<div id="report-ui">
  <div class="rep-head">
    <div class="brand">DOSSIER</div>
    <button class="icon-btn" onclick="document.getElementById('report-ui').classList.remove('show')">CLOSE</button>
  </div>
  <div class="rep-body" id="rep-body"></div>
</div>

<script>
// === STABILITY FIX: DYNAMIC HEIGHT & DEBOUNCE ===
let resizeTimer;
const setAppHeight = () => {
    // Exact innerHeight prevents UI bar cutoffs on iOS
    const h = window.innerHeight;
    document.documentElement.style.setProperty('--app-height', `${h}px`);
    
    // Resize Matrix Canvas
    const c = document.getElementById('matrix');
    if(c) {
        c.width = window.innerWidth;
        c.height = h;
    }
}

// Debounce resize to prevent reflow trashing on scroll/rotate
window.addEventListener('resize', () => {
    clearTimeout(resizeTimer);
    resizeTimer = setTimeout(() => {
        setAppHeight();
        // Re-init matrix rain (optional, prevents stretching)
        // startMatrix(); 
    }, 100);
});

window.addEventListener('orientationchange', () => {
    setTimeout(setAppHeight, 100);
});

// === 1. CONFIGURATION ===
const WORKER_ENDPOINT = "https://proxy.dt716085.workers.dev/"; 

let USER_KEY_CACHE = "";
let isScanning = false;
let isDeep = false;
let accessDenied = false;
let matrixInterval; // Global tracking for canvas

// === FIX: SAFE LOAD EVENT ===
window.addEventListener('load', () => {
  setAppHeight(); // Initial Height Set
  const k = localStorage.getItem("cyberint_key");
  if(k) { 
    document.getElementById('secureKeyInput').value = k; 
    authenticate(); 
  } else {
    document.getElementById('auth-overlay').style.display = 'flex';
  }
  startMatrix();
  startHackerLogs();
});

function authenticate() {
  const k = document.getElementById('secureKeyInput').value.trim();
  if(!k) return alert("KEY REQUIRED");
  USER_KEY_CACHE = k;
  localStorage.setItem("cyberint_key", k);
  document.getElementById('auth-overlay').style.display = 'none';
  addLog("main", "Auth accepted. Uplink secure.", "sys");
}

function resetKey() {
  localStorage.removeItem("cyberint_key");
  USER_KEY_CACHE = "";
  accessDenied = false;
  document.getElementById('secureKeyInput').value = "";
  document.getElementById('auth-overlay').style.display = 'flex';
  setTimeout(() => document.getElementById('secureKeyInput').focus(), 100);
  addLog("main", "Key cleared.", "warn");
}

// === 2. VISUAL LOGS ===
function addLog(termId, msg, type="") {
  const el = document.getElementById("log-"+termId);
  const d = document.createElement("div");
  d.className = "log " + type;
  d.innerText = "$ " + msg;
  el.appendChild(d);
  el.scrollTo({ top: el.scrollHeight, behavior: 'smooth' });
}

function startHackerLogs() {
  setInterval(() => {
    if(!isScanning) {
        addLog("net", `SCANNING PORT ${Math.floor(Math.random()*65535)}... OPEN`, "sys");
    }
  }, 2000);
}

// === 3. CORE SCAN LOGIC ===
function toggleDeep() { 
  isDeep = !isDeep; 
  document.getElementById('btnDeep').classList.toggle('armed');
  addLog("main", isDeep ? "EXTENDED_SEARCH_MODULE: ENABLED (LIMIT=300)" : "STANDARD_MODE (LIMIT=100)", "sys");
}

async function startScan() {
  if(!USER_KEY_CACHE) { resetKey(); return; }

  // SAFETY CHECK
  if(accessDenied) {
     addLog("main", "SCAN BLOCKED: SUBSCRIPTION LIMIT REACHED.", "alert");
     return;
  }

  const q = document.getElementById('q').value.trim();
  if(!q) return addLog("main", "ERR: Target field empty.", "warn");
  
  isScanning = true; 
  const btn = document.getElementById('btnScan');
  btn.classList.add('scanning');
  btn.innerText = "QUERYING DATABASE...";
  
  addLog("main", `Target locked: ${q}`, "sys");
  
  // === NETWORK REQUEST ===
  const rawData = await fetchIntel(q);
  
  // Reset UI
  btn.classList.remove('scanning');
  btn.innerText = "INITIATE SCAN";
  isScanning = false; 

  if(!rawData) {
    addLog("main", "CRITICAL: Uplink failed. Check connection.", "alert");
    return;
  }

  // === DATA PARSING ===
  addLog("main", "Response received. Parsing content...", "cmd");
  
  const formattedResults = extractResults(rawData);
  
  if(formattedResults.length > 0) {
      addLog("main", `SUCCESS: ${formattedResults.length} records processed.`, "success");
      showReport(formattedResults);
      setTimeout(() => openReport(), 500);
  } else {
      addLog("main", "Search complete. No matching records found.", "warn");
  }
}

// === 4. WORKER CONNECTION ===
async function fetchIntel(query) {
  const controller = new AbortController();
  const timeoutId = setTimeout(() => controller.abort(), isDeep ? 30000 : 15000); 

  try {
    const payload = {
      token: USER_KEY_CACHE,      
      request: query,             
      limit: isDeep ? 300 : 100,  
      lang: "en",                 
      type: "json"                
    };

    const res = await fetch(WORKER_ENDPOINT, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      mode: 'cors',
      body: JSON.stringify(payload),
      signal: controller.signal
    });

    clearTimeout(timeoutId);

    if (!res.ok) throw new Error(`HTTP ${res.status}`);
    const data = await res.json();

    if(data.error && (data.error.toLowerCase().includes("money") || data.error.toLowerCase().includes("limit") || data.error.toLowerCase().includes("sub"))) {
        accessDenied = true;
        addLog("main", "API ERROR: ACCESS LIMIT REACHED", "alert");
    } else {
        accessDenied = false;
    }

    return data;

  } catch(e) { 
    clearTimeout(timeoutId);
    console.error(e);
    addLog("kernel", `NET_ERR: ${e.message}`, "alert");
    return null; 
  }
}

// === 5. RESULTS PARSER ===
function extractResults(apiResponse) {
  if (!apiResponse) return [];
  
  let results = [];
  let isMasked = false;

  function flatten(obj, prefix = '') {
      return Object.keys(obj).reduce((acc, k) => {
          const pre = prefix.length ? prefix + '.' : '';
          const val = obj[k];
          
          if (val && typeof val === 'object' && !Array.isArray(val)) {
              Object.assign(acc, flatten(val, pre + k));
          } else if (Array.isArray(val)) {
              const cleanArr = val.filter(v => v !== null && v !== "" && v !== undefined);
              if(cleanArr.length > 0 && typeof cleanArr[0] === 'object') {
                  cleanArr.forEach((v, i) => {
                      Object.assign(acc, flatten(v, `${pre}${k}_${i}`));
                  });
              } else if (cleanArr.length > 0) {
                  acc[pre + k] = cleanArr.join(", ");
              }
          } else {
              if (val !== null && val !== undefined && val !== "") {
                  acc[pre + k] = val;
                  if (String(val).includes("***")) isMasked = true;
              }
          }
          return acc;
      }, {});
  }

  if (apiResponse.data && Array.isArray(apiResponse.data)) {
      apiResponse.data.forEach((item, idx) => {
          const sourceName = item.source || item.Source || item.Database || `RECORD_${idx + 1}`;
          const flatData = flatten(item);
          if(Object.keys(flatData).length > 0) {
              results.push({ source: sourceName, data: flatData });
          }
      });
  }
  else if (apiResponse.error) {
      let errMsg = apiResponse.error;
      if (errMsg.toLowerCase().includes("telegram") || errMsg.toLowerCase().includes("bot")) {
          errMsg = "Subscription required to access this data.";
      }
      results.push({ 
          source: "SYSTEM_MESSAGE", 
          data: { STATUS: "ACCESS RESTRICTED", INFO: errMsg } 
      });
  }
  else {
      const flatRaw = flatten(apiResponse);
      if(Object.keys(flatRaw).length > 0) {
          results.push({ source: "RAW_OUTPUT", data: flatRaw });
      }
  }

  if (isMasked) {
      addLog("main", "DATA PARTIALLY HIDDEN: SUBSCRIPTION LIMITS", "warn");
      results.unshift({
          source: "ACCESS_WARNING",
          data: {
              STATUS: "PARTIAL_RESULTS",
              REASON: "Standard Access Level",
              ACTION: "Upgrade required to view full unmasked data."
          }
      });
  }

  return results;
}

// === 6. REPORT UI ===
function showReport(items) {
  const body = document.getElementById('rep-body');
  body.innerHTML = "";
  
  const highPriority = ["email", "password", "username", "phone", "mobile", "ip", "address", "name", "uid", "dob"];
  const lowPriority = ["description", "info", "leak_info", "date", "source", "database"];

  items.forEach(item => {
      let html = "";
      const entries = Object.entries(item.data);
      
      entries.sort((a, b) => {
          const keyA = a[0].toLowerCase();
          const keyB = b[0].toLowerCase();
          
          const isHighA = highPriority.some(k => keyA.includes(k));
          const isHighB = highPriority.some(k => keyB.includes(k));
          const isLowA = lowPriority.some(k => keyA.includes(k));
          const isLowB = lowPriority.some(k => keyB.includes(k));

          if (isHighA && !isHighB) return -1;
          if (!isHighA && isHighB) return 1;
          if (isLowA && !isLowB) return 1;
          if (!isLowA && isLowB) return -1;
          return keyA.localeCompare(keyB);
      });

      for(const [k,v] of entries) {
          let val = v;
          if(val === true) val = "<span style='color:var(--success)'>TRUE</span>";
          if(val === false) val = "<span style='color:var(--alert)'>FALSE</span>";
          
          if(String(val).includes("***")) {
              val = `<span style='color:var(--accent); letter-spacing:2px;'>${val}</span>`;
          }

          html += `<div class="row"><div class="k">${k.toUpperCase()}</div><div class="v">${val}</div></div>`;
      }
      
      const card = document.createElement('div');
      card.className = "report-card open";
      card.innerHTML = `
        <div class="card-header" onclick="this.parentElement.classList.toggle('open')">
          <span style="font-weight:bold; color:var(--primary)">${item.source.toUpperCase()}</span>
          <span class="arrow">â–¼</span>
        </div>
        <div class="card-content">${html}</div>
      `;
      body.appendChild(card);
  });
}

function openReport() {
  document.getElementById('report-ui').classList.add('show');
}

// === 7. ANIMATION (STABLE) ===
function startMatrix() {
  if(matrixInterval) clearInterval(matrixInterval);
  const c = document.getElementById('matrix'); const ctx = c.getContext('2d');
  
  // Use current calculated height
  const h = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--app-height')) || window.innerHeight;
  c.width = window.innerWidth; 
  c.height = h;

  const drops = Array(Math.floor(c.width/14)).fill(1);
  matrixInterval = setInterval(() => {
    ctx.fillStyle = "rgba(0,0,0,0.1)"; ctx.fillRect(0,0,c.width,c.height);
    ctx.fillStyle = "#0f0"; ctx.font = "14px monospace";
    drops.forEach((y,i) => {
      ctx.fillText(Math.random()>0.5?"1":"0", i*14, y*14);
      if(y*14 > c.height && Math.random() > 0.975) drops[i]=0; drops[i]++;
    });
  }, 50);
}
</script>
</body>
</html>